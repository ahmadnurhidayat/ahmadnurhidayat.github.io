---
export interface Props {
  title: string;
  description: string;
  year: string;
  slug: string;
  image?: string;
  pinned?: boolean;
}

const { title, description, year, slug, image, pinned = false } = Astro.props;
const hasImage = image && image.length > 0;
---

<a href={`/projects/${slug}`} class="group block bg-white dark:bg-surface/30 border border-gray-200 dark:border-border/20 rounded-lg overflow-hidden transition-all duration-200 hover:border-primary-600/50 dark:hover:border-accent/50">
  <!-- Image Section -->
  <div class="relative h-40 overflow-hidden bg-gray-100 dark:bg-dark-100">
    {hasImage ? (
      <img 
        src={image} 
        alt={title}
        class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
      />
    ) : (
      <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-600/10 to-accent/10 dark:from-primary-600/20 dark:to-accent/20">
        <svg class="w-12 h-12 text-gray-300 dark:text-accent/30" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
        </svg>
      </div>
    )}
    
    {pinned && (
      <span class="absolute top-2 right-2 text-xs font-medium text-primary-600 dark:text-accent bg-white/90 dark:bg-dark-50/90 px-2 py-0.5 rounded">
        Pinned
      </span>
    )}
  </div>

  <!-- Content Section -->
  <div class="p-4">
    <h3 class="font-medium text-gray-900 dark:text-dark-900 group-hover:text-primary-600 dark:group-hover:text-accent transition-colors">
      {title}
    </h3>
    <span class="text-xs text-primary-600 dark:text-accent mt-1 block">
      {year}
    </span>
    <p class="text-gray-800 dark:text-dark-500 text-sm mt-2 line-clamp-2">
      {description}
    </p>
  </div>
</a>
